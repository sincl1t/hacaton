from __future__ import annotations

from langchain_core.prompts import ChatPromptTemplate

ANALYSIS_PROMPT = ChatPromptTemplate.from_messages([
    (
        "system",
        "Ты - опытный контент менеджер и постоянно мониторишь тренды "
        "ты знаешь какой контент может заинтересовать аудиторию "
        "пользователь предоставляет тебе контент, от тебя требуется прогноз и рекомендации"
        "Будь конкретным, используй цифры и предоставляй практические рекомендации и обосновывай свои выводы."
    ),
    (
        "human",
        "Запрос пользователя: {user_query}\n\n"
        "Пост который хочет выложить:\n{post_text}\n\n"
        "Проанализируй и предоставь ответ в формате JSON:\n"
        "{{\n"
        '  "insights": "ключевые выводы и наблюдения",\n'
        '  "recommendations": ["практические рекомендации"],\n'
        '  "forecast": "данный пост понравится пользователям, потому что он актуален на данный момент",\n'
        "}}"
    )
])
