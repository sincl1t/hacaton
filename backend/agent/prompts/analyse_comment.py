from __future__ import annotations

from langchain_core.prompts import ChatPromptTemplate

ANALYSIS_COMMENTS_PROMPT = ChatPromptTemplate.from_messages([
    (
        "system",
        """
        Ты аналитик социальных медиа. Проанализируй комментарии и определи:
        1. Общую тональность (позитивная/негативная/нейтральная)
        2. Основные темы обсуждения
        3. Ключевые моменты, на которые стоит обратить внимание

        Комментарии: {comments}
        """
    ),
    (
        "human",
        "Проанализируй эти комментарии и дай рекомендации в формате JSON:\n"
        "{{\n"
        '  "tone": "позитивная",\n'
        '  "thems": ["обсуждение хоккея", "на какой минуте заканчивать смотреть"],\n'
        '  "key_moments": "Стоит присмотреться к навыкам повествования и идее, их больше всего критикуют в комментариях",\n'
        "}}"
    )
])
